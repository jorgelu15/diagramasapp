{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\"];\nimport { Link, NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport TemplateState from \"./context/template/templateState\";\nimport AuthState from \"./context/auth/authState\";\nimport Navigator from \"./navigator/Navigator\";\nimport * as Linking from 'expo-linking';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useEffect, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar prefix = Linking.createURL('/');\nvar Stack = createNativeStackNavigator();\nfunction AppState(_ref) {\n  var children = _ref.children,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return _jsx(AuthState, {\n    children: _jsx(TemplateState, {\n      children: children\n    })\n  });\n}\nexport default function App() {\n  var linking = {\n    prefixes: [prefix],\n    config: {\n      screens: {\n        Login: \"Login\",\n        SketchBoard: \"SketchBoard\",\n        Diagramas: \"Diagramas\",\n        Plantillas: \"Plantillas\"\n      }\n    }\n  };\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  function handleDeepLink(event) {\n    var data = Linking.parse(event.url);\n    setData(data);\n  }\n  useEffect(function () {\n    function getInitialURL() {\n      return _getInitialURL.apply(this, arguments);\n    }\n    function _getInitialURL() {\n      _getInitialURL = _asyncToGenerator(function* () {\n        var initialURL = yield Linking.getInitialURL();\n        if (initialURL) setData(Linking.parse(initialURL));\n      });\n      return _getInitialURL.apply(this, arguments);\n    }\n    Linking.addEventListener(\"url\", handleDeepLink);\n    if (!data) {\n      getInitialURL();\n    }\n  }, []);\n  console.log(data != null ? data : JSON.stringify(data));\n  return _jsx(NavigationContainer, {\n    linking: linking,\n    fallback: _jsx(Text, {\n      children: \"Loading...\"\n    }),\n    children: _jsx(AppState, {\n      children: _jsx(Navigator, {})\n    })\n  });\n}","map":{"version":3,"names":["Link","NavigationContainer","createNativeStackNavigator","TemplateState","AuthState","Navigator","Linking","Text","useEffect","useState","jsx","_jsx","prefix","createURL","Stack","AppState","_ref","children","props","_objectWithoutProperties","_excluded","App","linking","prefixes","config","screens","Login","SketchBoard","Diagramas","Plantillas","_useState","_useState2","_slicedToArray","data","setData","handleDeepLink","event","parse","url","getInitialURL","_getInitialURL","apply","arguments","_asyncToGenerator","initialURL","addEventListener","console","log","JSON","stringify","fallback"],"sources":["C:/Users/Jorge/Escritorio/repositorios/diagramsApp/App.js"],"sourcesContent":["import { Link, NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\n\r\nimport TemplateState from './context/template/templateState';\r\nimport AuthState from './context/auth/authState';\r\nimport Navigator from './navigator/Navigator';\r\n\r\nimport * as Linking from 'expo-linking';\r\nimport { Text } from 'react-native';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst prefix = Linking.createURL('/')\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nfunction AppState({ children, ...props }) {\r\n\r\n  return (\r\n    <AuthState>\r\n      <TemplateState>\r\n        {children}\r\n      </TemplateState>\r\n    </AuthState>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  const linking = {\r\n    prefixes: [prefix],\r\n    config: {\r\n      screens: {\r\n        Login: \"Login\",\r\n        SketchBoard: \"SketchBoard\",\r\n        Diagramas: \"Diagramas\",\r\n        Plantillas: \"Plantillas\"\r\n      }\r\n    },\r\n  };\r\n\r\n  const [data, setData] = useState(null);\r\n\r\n  function handleDeepLink(event) {\r\n    let data = Linking.parse(event.url)\r\n    setData(data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function getInitialURL() {\r\n      const initialURL = await Linking.getInitialURL();\r\n      if (initialURL) setData(Linking.parse(initialURL));\r\n    }\r\n\r\n    Linking.addEventListener(\"url\", handleDeepLink);\r\n\r\n    if (!data) {\r\n      getInitialURL();\r\n    }\r\n  }, [])\r\n\r\n  console.log(data ?? JSON.stringify(data))\r\n  return (\r\n    <NavigationContainer linking={linking} fallback={<Text>Loading...</Text>}>\r\n      <AppState>\r\n        <Navigator />\r\n      </AppState>\r\n    </NavigationContainer>\r\n  );\r\n}"],"mappings":";;;;AAAA,SAASA,IAAI,EAAEC,mBAAmB,QAAQ,0BAA0B;AACpE,SAASC,0BAA0B,QAAQ,gCAAgC;AAE3E,OAAOC,aAAa;AACpB,OAAOC,SAAS;AAChB,OAAOC,SAAS;AAEhB,OAAO,KAAKC,OAAO,MAAM,cAAc;AAAC,OAAAC,IAAA;AAExC,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE5C,IAAMC,MAAM,GAAGN,OAAO,CAACO,SAAS,CAAC,GAAG,CAAC;AAErC,IAAMC,KAAK,GAAGZ,0BAA0B,EAAE;AAE1C,SAASa,QAAQA,CAAAC,IAAA,EAAyB;EAAA,IAAtBC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IAAKC,KAAK,GAAAC,wBAAA,CAAAH,IAAA,EAAAI,SAAA;EAEpC,OACET,IAAA,CAACP,SAAS;IAAAa,QAAA,EACRN,IAAA,CAACR,aAAa;MAAAc,QAAA,EACXA;IAAQ;EACK,EACN;AAEhB;AAEA,eAAe,SAASI,GAAGA,CAAA,EAAG;EAC5B,IAAMC,OAAO,GAAG;IACdC,QAAQ,EAAE,CAACX,MAAM,CAAC;IAClBY,MAAM,EAAE;MACNC,OAAO,EAAE;QACPC,KAAK,EAAE,OAAO;QACdC,WAAW,EAAE,aAAa;QAC1BC,SAAS,EAAE,WAAW;QACtBC,UAAU,EAAE;MACd;IACF;EACF,CAAC;EAED,IAAAC,SAAA,GAAwBrB,QAAQ,CAAC,IAAI,CAAC;IAAAsB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpB,SAASI,cAAcA,CAACC,KAAK,EAAE;IAC7B,IAAIH,IAAI,GAAG3B,OAAO,CAAC+B,KAAK,CAACD,KAAK,CAACE,GAAG,CAAC;IACnCJ,OAAO,CAACD,IAAI,CAAC;EACf;EAEAzB,SAAS,CAAC,YAAM;IAAA,SACC+B,aAAaA,CAAA;MAAA,OAAAC,cAAA,CAAAC,KAAA,OAAAC,SAAA;IAAA;IAAA,SAAAF,eAAA;MAAAA,cAAA,GAAAG,iBAAA,CAA5B,aAA+B;QAC7B,IAAMC,UAAU,SAAStC,OAAO,CAACiC,aAAa,EAAE;QAChD,IAAIK,UAAU,EAAEV,OAAO,CAAC5B,OAAO,CAAC+B,KAAK,CAACO,UAAU,CAAC,CAAC;MACpD,CAAC;MAAA,OAAAJ,cAAA,CAAAC,KAAA,OAAAC,SAAA;IAAA;IAEDpC,OAAO,CAACuC,gBAAgB,CAAC,KAAK,EAAEV,cAAc,CAAC;IAE/C,IAAI,CAACF,IAAI,EAAE;MACTM,aAAa,EAAE;IACjB;EACF,CAAC,EAAE,EAAE,CAAC;EAENO,OAAO,CAACC,GAAG,CAACd,IAAI,WAAJA,IAAI,GAAIe,IAAI,CAACC,SAAS,CAAChB,IAAI,CAAC,CAAC;EACzC,OACEtB,IAAA,CAACV,mBAAmB;IAACqB,OAAO,EAAEA,OAAQ;IAAC4B,QAAQ,EAAEvC,IAAA,CAACJ,IAAI;MAAAU,QAAA,EAAC;IAAU,EAAQ;IAAAA,QAAA,EACvEN,IAAA,CAACI,QAAQ;MAAAE,QAAA,EACPN,IAAA,CAACN,SAAS;IAAG;EACJ,EACS;AAE1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}