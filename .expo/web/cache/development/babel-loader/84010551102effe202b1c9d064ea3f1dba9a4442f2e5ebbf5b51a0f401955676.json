{"ast":null,"code":"import { useContext, useEffect } from \"react\";\nimport templateContext from \"../context/template/templateContext\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nfunction useTemplate(templateName, setTemplateName, setErrorAlert, setShowModal, setshowModalCloseTemplate) {\n  var _useContext = useContext(templateContext),\n    coordXY = _useContext.coordXY,\n    coordXYT = _useContext.coordXYT,\n    coordLn = _useContext.coordLn,\n    components = _useContext.components,\n    templates = _useContext.templates,\n    template = _useContext.template,\n    translateX = _useContext.translateX,\n    translateY = _useContext.translateY,\n    setTemplates = _useContext.setTemplates,\n    setTemplate = _useContext.setTemplate,\n    setTranslateX = _useContext.setTranslateX,\n    setTranslateY = _useContext.setTranslateY,\n    closeTemplate = _useContext.closeTemplate,\n    getComponents = _useContext.getComponents,\n    getTemplates = _useContext.getTemplates,\n    setcoordXYT = _useContext.setcoordXYT,\n    setCoordLn = _useContext.setCoordLn,\n    setTextTemplates = _useContext.setTextTemplates;\n  useEffect(function () {\n    getComponents();\n  }, []);\n  useEffect(function () {\n    getTemplates();\n  }, []);\n  var onSaveTemplates = function onSaveTemplates() {\n    if (templateName === '') {\n      setErrorAlert('La plantilla debe incluir un nombre');\n      return;\n    }\n    setTemplates({\n      amarre_template: coordLn,\n      text_components: coordXYT,\n      components: coordXY,\n      id: (templates == null ? void 0 : templates.length) + 1,\n      name: templateName,\n      img: \"\",\n      userCreated: \"\"\n    });\n    setTemplateName('');\n    setShowModal(false);\n  };\n  var onCloseTemplates = function onCloseTemplates() {\n    closeTemplate();\n    setCoordLn([]);\n    setshowModalCloseTemplate(false);\n  };\n  var onUpdateTemplates = function onUpdateTemplates() {\n    if ((JSON.stringify(template == null ? void 0 : template.components) !== JSON.stringify(coordXY) || JSON.stringify(template == null ? void 0 : template.text_components) !== JSON.stringify(coordXYT) || JSON.stringify(template == null ? void 0 : template.amarre_template) !== JSON.stringify(coordLn)) && template != null && template.id) {\n      setTemplate({\n        amarre_template: coordLn,\n        text_components: coordXYT,\n        components: coordXY,\n        id: template == null ? void 0 : template.id,\n        idServer: template == null ? void 0 : template.idServer,\n        name: template == null ? void 0 : template.name,\n        img: template == null ? void 0 : template.img,\n        userCreated: template == null ? void 0 : template.usuario_created\n      }, template.id);\n      if (Platform.OS === 'android') ToastAndroid.show('Se guardaron los cambios', ToastAndroid.LONG);\n      if (Platform.OS === 'ios') alert('Se guardaron los cambios');\n    } else {\n      if (Platform.OS === 'android') ToastAndroid.show('No se detectaron cambios en el sketch', ToastAndroid.LONG);\n      if (Platform.OS === \"ios\") alert(\"No se detectaron cambios en el sketch\");\n    }\n  };\n  return {\n    coordXY: coordXY,\n    coordXYT: coordXYT,\n    coordLn: coordLn,\n    components: components,\n    translateX: translateX,\n    translateY: translateY,\n    setcoordXYT: setcoordXYT,\n    setTranslateX: setTranslateX,\n    setTranslateY: setTranslateY,\n    onSaveTemplates: onSaveTemplates,\n    onCloseTemplates: onCloseTemplates,\n    onUpdateTemplates: onUpdateTemplates\n  };\n}\nexport { useTemplate };","map":{"version":3,"names":["useContext","useEffect","templateContext","ToastAndroid","AsyncStorage","useTemplate","templateName","setTemplateName","setErrorAlert","setShowModal","setshowModalCloseTemplate","_useContext","coordXY","coordXYT","coordLn","components","templates","template","translateX","translateY","setTemplates","setTemplate","setTranslateX","setTranslateY","closeTemplate","getComponents","getTemplates","setcoordXYT","setCoordLn","setTextTemplates","onSaveTemplates","amarre_template","text_components","id","length","name","img","userCreated","onCloseTemplates","onUpdateTemplates","JSON","stringify","idServer","usuario_created","Platform","OS","show","LONG","alert"],"sources":["C:/Users/Jorge/Escritorio/repositorios/diagramsApp/hooks/useTemplate.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\r\nimport templateContext from \"../context/template/templateContext\";\r\nimport { ToastAndroid } from \"react-native\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nfunction useTemplate(templateName, setTemplateName, setErrorAlert, setShowModal, setshowModalCloseTemplate) {\r\n    const { coordXY,\r\n        coordXYT,\r\n        coordLn,\r\n        components,\r\n        templates,\r\n        template,\r\n        translateX,\r\n        translateY,\r\n        setTemplates,\r\n        setTemplate,\r\n        setTranslateX,\r\n        setTranslateY,\r\n        closeTemplate,\r\n        getComponents,\r\n        getTemplates,\r\n        setcoordXYT,\r\n        setCoordLn,\r\n        setTextTemplates,\r\n        \r\n    } = useContext(templateContext);\r\n\r\n    useEffect(() => {\r\n        getComponents();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n       getTemplates();\r\n    }, []);\r\n\r\n    const onSaveTemplates = () => {\r\n        //validar que la plantilla tenga nombre\r\n        if (templateName === '') {\r\n            setErrorAlert('La plantilla debe incluir un nombre');\r\n            return;\r\n        }\r\n\r\n        //validar que se guarde\r\n        setTemplates({\r\n            amarre_template: coordLn,\r\n            text_components: coordXYT,\r\n            components: coordXY,\r\n            id: templates?.length + 1,\r\n            name: templateName,\r\n            img: \"\",\r\n            userCreated: \"\"\r\n        });\r\n        setTemplateName('');\r\n        setShowModal(false)\r\n    }\r\n\r\n    const onCloseTemplates = () => {\r\n        closeTemplate();\r\n        setCoordLn([]);\r\n        setshowModalCloseTemplate(false);\r\n    }\r\n\r\n    const onUpdateTemplates = () => {\r\n        if (\r\n            ((JSON.stringify(template?.components) !== JSON.stringify(coordXY)) ||\r\n            (JSON.stringify(template?.text_components) !== JSON.stringify(coordXYT)) ||\r\n            (JSON.stringify(template?.amarre_template) !== JSON.stringify(coordLn)))\r\n            && template?.id) {\r\n            setTemplate(\r\n                {\r\n                    amarre_template: coordLn,\r\n                    text_components: coordXYT,\r\n                    components: coordXY,\r\n                    id: template?.id,\r\n                    idServer: template?.idServer,\r\n                    name: template?.name,\r\n                    img: template?.img,\r\n                    userCreated: template?.usuario_created,\r\n                },\r\n                template.id\r\n            );\r\n            if (Platform.OS === 'android') ToastAndroid.show('Se guardaron los cambios', ToastAndroid.LONG);\r\n            if (Platform.OS === 'ios') alert('Se guardaron los cambios')\r\n        } else {\r\n            if (Platform.OS === 'android') ToastAndroid.show('No se detectaron cambios en el sketch', ToastAndroid.LONG);\r\n            if (Platform.OS === \"ios\") alert(\"No se detectaron cambios en el sketch\");\r\n        }\r\n    }\r\n\r\n    return {\r\n        coordXY,\r\n        coordXYT,\r\n        coordLn,\r\n        components,\r\n        translateX,\r\n        translateY,\r\n        setcoordXYT,\r\n        setTranslateX,\r\n        setTranslateY,\r\n        onSaveTemplates,\r\n        onCloseTemplates,\r\n        onUpdateTemplates\r\n    }\r\n}\r\n\r\nexport { useTemplate };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}