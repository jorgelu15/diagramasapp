{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { memo, useContext, useMemo, useState } from \"react\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { SvgUri } from \"react-native-svg\";\nimport TemplateContext from \"../../context/template/templateContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get(\"window\"),\n  width = _Dimensions$get.width,\n  height = _Dimensions$get.height;\nvar widthSk = width > 800 ? width - 800 + 800 : 800,\n  heightSk = height > 800 ? height - 800 + 800 : 800;\nvar MemoizedComponentItem = memo(function (_ref) {\n  var item = _ref.item,\n    handleAddComponent = _ref.handleAddComponent;\n  return _jsxs(Pressable, {\n    style: {\n      justifyContent: \"center\",\n      display: \"flex\",\n      flex: 1,\n      marginVertical: 15,\n      width: 128\n    },\n    onPress: function onPress() {\n      return handleAddComponent(item.id);\n    },\n    children: [_jsx(View, {\n      style: {\n        flex: 1,\n        backgroundColor: \"white\",\n        margin: 5,\n        height: \"auto\",\n        width: 128,\n        borderRadius: 10\n      },\n      children: _jsx(SvgUri, {\n        height: 80,\n        width: 128,\n        uri: item.path,\n        style: {\n          backgroundColor: \"#fff\"\n        }\n      })\n    }), _jsx(Text, {\n      style: {\n        fontSize: 8,\n        width: 128,\n        textAlign: \"center\"\n      },\n      children: item.nombre\n    })]\n  });\n});\nvar ComponentList = function (_React$PureComponent) {\n  _inherits(ComponentList, _React$PureComponent);\n  var _super = _createSuper(ComponentList);\n  function ComponentList() {\n    var _this;\n    _classCallCheck(this, ComponentList);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.memoizedRenderItem = function (_ref2) {\n      var item = _ref2.item;\n      return _jsx(MemoizedComponentItem, {\n        item: item,\n        handleAddComponent: _this.props.handleAddComponent\n      });\n    };\n    return _this;\n  }\n  _createClass(ComponentList, [{\n    key: \"render\",\n    value: function render() {\n      return _jsx(FlatList, {\n        data: this.props.ANSIcomponentsFounds,\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        },\n        renderItem: this.memoizedRenderItem,\n        numColumns: 3\n      });\n    }\n  }]);\n  return ComponentList;\n}(React.PureComponent);\nexport default function ANSI(_ref3) {\n  var navigation = _ref3.navigation;\n  var templateContext = useContext(TemplateContext);\n  var components = templateContext.components,\n    ANSIcomponentsFounds = templateContext.ANSIcomponentsFounds,\n    coordXY = templateContext.coordXY,\n    setcoordXY = templateContext.setcoordXY,\n    searchComponentANSI = templateContext.searchComponentANSI,\n    translateX = templateContext.translateX,\n    translateY = templateContext.translateY;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    componentName = _useState2[0],\n    setComponentName = _useState2[1];\n  var handleChange = function handleChange(e) {\n    var searchText = e.nativeEvent.text;\n    setComponentName(searchText);\n    if (searchText === '') {\n      searchComponentANSI('');\n    } else {\n      searchComponentANSI(searchText);\n    }\n  };\n  var handleAddComponent = useMemo(function () {\n    return function (idx) {\n      var proxId = 0;\n      coordXY.map(function (item) {\n        if (item.id_u > proxId) {\n          proxId = item.id_u;\n        }\n      });\n      proxId += 1;\n      var selectedComponent = ANSIcomponentsFounds.filter(function (item) {\n        return item.id === idx;\n      });\n      selectedComponent[0].id_u = proxId;\n      selectedComponent[0].x = -translateX - 20 + width / 2;\n      selectedComponent[0].y = -translateY + 100 + height / 2;\n      setcoordXY([].concat(_toConsumableArray(coordXY), [selectedComponent[0]]));\n      setComponentName('');\n      navigation.navigate('SketchBoard');\n    };\n  }, [components, navigation, setcoordXY]);\n  return _jsxs(SafeAreaView, {\n    style: {\n      flex: 1,\n      justifyContent: \"center\",\n      backgroundColor: \"white\"\n    },\n    children: [_jsx(View, {\n      style: {\n        marginVertical: 5,\n        borderBottomColor: \"#D7D7D9\",\n        borderBottomWidth: 1\n      },\n      children: _jsx(TextInput, {\n        placeholder: \"Buscar...\",\n        keyboardType: \"default\",\n        onChange: handleChange,\n        value: componentName,\n        style: {\n          marginHorizontal: 20,\n          marginVertical: 10,\n          paddingHorizontal: 10,\n          paddingVertical: 5,\n          backgroundColor: \"#F0F0F2\",\n          borderRadius: 5\n        }\n      })\n    }), _jsx(ComponentList, {\n      ANSIcomponentsFounds: ANSIcomponentsFounds,\n      handleAddComponent: handleAddComponent\n    })]\n  });\n}","map":{"version":3,"names":["React","memo","useContext","useMemo","useState","Dimensions","Pressable","Text","TextInput","View","FlatList","SafeAreaView","SvgUri","TemplateContext","jsx","_jsx","jsxs","_jsxs","_Dimensions$get","get","width","height","widthSk","heightSk","MemoizedComponentItem","_ref","item","handleAddComponent","style","justifyContent","display","flex","marginVertical","onPress","id","children","backgroundColor","margin","borderRadius","uri","path","fontSize","textAlign","nombre","ComponentList","_React$PureComponent","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","memoizedRenderItem","_ref2","props","_createClass","key","value","render","data","ANSIcomponentsFounds","keyExtractor","renderItem","numColumns","PureComponent","ANSI","_ref3","navigation","templateContext","components","coordXY","setcoordXY","searchComponentANSI","translateX","translateY","_useState","_useState2","_slicedToArray","componentName","setComponentName","handleChange","e","searchText","nativeEvent","text","idx","proxId","map","id_u","selectedComponent","filter","x","y","_toConsumableArray","navigate","borderBottomColor","borderBottomWidth","placeholder","keyboardType","onChange","marginHorizontal","paddingHorizontal","paddingVertical"],"sources":["C:/Users/Jorge/Escritorio/repositorios/diagramsApp/components/Tabs/ANSI.js"],"sourcesContent":["import React, { memo, useContext, useMemo, useState } from \"react\";\r\nimport { Dimensions, Pressable, Text, TextInput, View } from \"react-native\";\r\nimport { FlatList, SafeAreaView } from \"react-native\";\r\nimport { SvgUri } from \"react-native-svg\";\r\nimport TemplateContext from \"../../context/template/templateContext\";\r\nconst { width, height } = Dimensions.get(\"window\");\r\nconst widthSk = width > 800 ? (width - 800) + 800 : 800, heightSk = height > 800 ? (height - 800) + 800 : 800;\r\nconst MemoizedComponentItem = memo(({ item, handleAddComponent }) => {\r\n    return (\r\n        <Pressable\r\n            style={{\r\n                justifyContent: \"center\",\r\n                display: \"flex\",\r\n                flex: 1,\r\n                marginVertical: 15,\r\n                width: 128,\r\n            }}\r\n            onPress={() => handleAddComponent(item.id)}\r\n        >\r\n            <View\r\n                style={{\r\n                    flex: 1,\r\n                    backgroundColor: \"white\",\r\n                    margin: 5,\r\n                    height: \"auto\",\r\n                    width: 128,\r\n                    borderRadius: 10,\r\n                }}\r\n            >\r\n                <SvgUri\r\n                    height={80}\r\n                    width={128}\r\n                    uri={item.path}\r\n                    style={{\r\n                        backgroundColor: \"#fff\",\r\n                    }}\r\n                />\r\n            </View>\r\n            <Text style={{ fontSize: 8, width: 128, textAlign: \"center\" }}>{item.nombre}</Text>\r\n        </Pressable>\r\n    );\r\n});\r\n\r\nclass ComponentList extends React.PureComponent {\r\n    memoizedRenderItem = ({ item }) => (\r\n        <MemoizedComponentItem item={item} handleAddComponent={this.props.handleAddComponent} />\r\n    );\r\n\r\n    render() {\r\n        return (\r\n            <FlatList\r\n                data={this.props.ANSIcomponentsFounds}\r\n                keyExtractor={(item) => item.id}\r\n                renderItem={this.memoizedRenderItem}\r\n                numColumns={3}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default function ANSI({ navigation }) {\r\n\r\n    const templateContext = useContext(TemplateContext);\r\n    const { components, ANSIcomponentsFounds, coordXY, setcoordXY, searchComponentANSI, translateX, translateY } = templateContext;\r\n\r\n    const [componentName, setComponentName] = useState('');\r\n\r\n    const handleChange = e => {\r\n        const searchText = e.nativeEvent.text;\r\n        setComponentName(searchText);\r\n    \r\n        if (searchText === '') {\r\n            // Restablecer los componentes a la lista completa\r\n            searchComponentANSI('');\r\n        } else {\r\n            // Realizar la búsqueda con el texto ingresado\r\n            searchComponentANSI(searchText);\r\n        }\r\n    };\r\n\r\n    const handleAddComponent = useMemo(\r\n        () => (idx) => {\r\n            let proxId = 0;\r\n            coordXY.map((item) => {\r\n                if(item.id_u > proxId){\r\n                    proxId = item.id_u\r\n                }\r\n            })\r\n            proxId += 1\r\n\r\n            let selectedComponent = ANSIcomponentsFounds.filter((item) => item.id === idx);\r\n            selectedComponent[0].id_u = proxId;\r\n            selectedComponent[0].x = -translateX - 20 + width/2;\r\n            selectedComponent[0].y = -translateY + 100 + height/2;\r\n\r\n            setcoordXY([...coordXY, selectedComponent[0]]);\r\n            setComponentName('');\r\n            navigation.navigate('SketchBoard');\r\n        }, [components, navigation, setcoordXY]);\r\n    return (\r\n        <SafeAreaView style={{ flex: 1, justifyContent: \"center\", backgroundColor: \"white\" }}>\r\n            <View style={{ marginVertical: 5, borderBottomColor: \"#D7D7D9\", borderBottomWidth: 1 }}>\r\n                <TextInput\r\n                    placeholder=\"Buscar...\"\r\n                    keyboardType=\"default\"\r\n                    onChange={handleChange}\r\n                    value={componentName}\r\n                    style={{\r\n                        marginHorizontal: 20,\r\n                        marginVertical: 10,\r\n                        paddingHorizontal: 10,\r\n                        paddingVertical: 5,\r\n                        backgroundColor: \"#F0F0F2\",\r\n                        borderRadius: 5,\r\n                    }} />\r\n            </View>\r\n            <ComponentList ANSIcomponentsFounds={ANSIcomponentsFounds} handleAddComponent={handleAddComponent} />\r\n        </SafeAreaView>\r\n    );\r\n}\r\n"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAK,IAAIC,IAAI,EAAEC,UAAU,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,UAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,YAAA;AAGnE,SAASC,MAAM,QAAQ,kBAAkB;AACzC,OAAOC,eAAe;AAA+C,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AACrE,IAAAC,eAAA,GAA0Bb,UAAU,CAACc,GAAG,CAAC,QAAQ,CAAC;EAA1CC,KAAK,GAAAF,eAAA,CAALE,KAAK;EAAEC,MAAM,GAAAH,eAAA,CAANG,MAAM;AACrB,IAAMC,OAAO,GAAGF,KAAK,GAAG,GAAG,GAAIA,KAAK,GAAG,GAAG,GAAI,GAAG,GAAG,GAAG;EAAEG,QAAQ,GAAGF,MAAM,GAAG,GAAG,GAAIA,MAAM,GAAG,GAAG,GAAI,GAAG,GAAG,GAAG;AAC7G,IAAMG,qBAAqB,GAAGvB,IAAI,CAAC,UAAAwB,IAAA,EAAkC;EAAA,IAA/BC,IAAI,GAAAD,IAAA,CAAJC,IAAI;IAAEC,kBAAkB,GAAAF,IAAA,CAAlBE,kBAAkB;EAC1D,OACIV,KAAA,CAACX,SAAS;IACNsB,KAAK,EAAE;MACHC,cAAc,EAAE,QAAQ;MACxBC,OAAO,EAAE,MAAM;MACfC,IAAI,EAAE,CAAC;MACPC,cAAc,EAAE,EAAE;MAClBZ,KAAK,EAAE;IACX,CAAE;IACFa,OAAO,EAAE,SAAAA,QAAA;MAAA,OAAMN,kBAAkB,CAACD,IAAI,CAACQ,EAAE,CAAC;IAAA,CAAC;IAAAC,QAAA,GAE3CpB,IAAA,CAACN,IAAI;MACDmB,KAAK,EAAE;QACHG,IAAI,EAAE,CAAC;QACPK,eAAe,EAAE,OAAO;QACxBC,MAAM,EAAE,CAAC;QACThB,MAAM,EAAE,MAAM;QACdD,KAAK,EAAE,GAAG;QACVkB,YAAY,EAAE;MAClB,CAAE;MAAAH,QAAA,EAEFpB,IAAA,CAACH,MAAM;QACHS,MAAM,EAAE,EAAG;QACXD,KAAK,EAAE,GAAI;QACXmB,GAAG,EAAEb,IAAI,CAACc,IAAK;QACfZ,KAAK,EAAE;UACHQ,eAAe,EAAE;QACrB;MAAE;IACJ,EACC,EACPrB,IAAA,CAACR,IAAI;MAACqB,KAAK,EAAE;QAAEa,QAAQ,EAAE,CAAC;QAAErB,KAAK,EAAE,GAAG;QAAEsB,SAAS,EAAE;MAAS,CAAE;MAAAP,QAAA,EAAET,IAAI,CAACiB;IAAM,EAAQ;EAAA,EAC3E;AAEpB,CAAC,CAAC;AAAC,IAEGC,aAAa,aAAAC,oBAAA;EAAAC,SAAA,CAAAF,aAAA,EAAAC,oBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,aAAA;EAAA,SAAAA,cAAA;IAAA,IAAAK,KAAA;IAAAC,eAAA,OAAAN,aAAA;IAAA,SAAAO,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAAP,KAAA,GAAAF,MAAA,CAAAU,IAAA,CAAAC,KAAA,CAAAX,MAAA,SAAAY,MAAA,CAAAL,IAAA;IAAAL,KAAA,CACfW,kBAAkB,GAAG,UAAAC,KAAA;MAAA,IAAGnC,IAAI,GAAAmC,KAAA,CAAJnC,IAAI;MAAA,OACxBX,IAAA,CAACS,qBAAqB;QAACE,IAAI,EAAEA,IAAK;QAACC,kBAAkB,EAAEsB,KAAA,CAAKa,KAAK,CAACnC;MAAmB,EAAG;IAAA,CAC3F;IAAA,OAAAsB,KAAA;EAAA;EAAAc,YAAA,CAAAnB,aAAA;IAAAoB,GAAA;IAAAC,KAAA,EAED,SAAAC,OAAA,EAAS;MACL,OACInD,IAAA,CAACL,QAAQ;QACLyD,IAAI,EAAE,IAAI,CAACL,KAAK,CAACM,oBAAqB;QACtCC,YAAY,EAAE,SAAAA,aAAC3C,IAAI;UAAA,OAAKA,IAAI,CAACQ,EAAE;QAAA,CAAC;QAChCoC,UAAU,EAAE,IAAI,CAACV,kBAAmB;QACpCW,UAAU,EAAE;MAAE,EAChB;IAEV;EAAC;EAAA,OAAA3B,aAAA;AAAA,EAduB5C,KAAK,CAACwE,aAAa;AAiB/C,eAAe,SAASC,IAAIA,CAAAC,KAAA,EAAiB;EAAA,IAAdC,UAAU,GAAAD,KAAA,CAAVC,UAAU;EAErC,IAAMC,eAAe,GAAG1E,UAAU,CAACW,eAAe,CAAC;EACnD,IAAQgE,UAAU,GAA6FD,eAAe,CAAtHC,UAAU;IAAET,oBAAoB,GAAuEQ,eAAe,CAA1GR,oBAAoB;IAAEU,OAAO,GAA8DF,eAAe,CAApFE,OAAO;IAAEC,UAAU,GAAkDH,eAAe,CAA3EG,UAAU;IAAEC,mBAAmB,GAA6BJ,eAAe,CAA/DI,mBAAmB;IAAEC,UAAU,GAAiBL,eAAe,CAA1CK,UAAU;IAAEC,UAAU,GAAKN,eAAe,CAA9BM,UAAU;EAE1G,IAAAC,SAAA,GAA0C/E,QAAQ,CAAC,EAAE,CAAC;IAAAgF,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/CG,aAAa,GAAAF,UAAA;IAAEG,gBAAgB,GAAAH,UAAA;EAEtC,IAAMI,YAAY,GAAG,SAAfA,YAAYA,CAAGC,CAAC,EAAI;IACtB,IAAMC,UAAU,GAAGD,CAAC,CAACE,WAAW,CAACC,IAAI;IACrCL,gBAAgB,CAACG,UAAU,CAAC;IAE5B,IAAIA,UAAU,KAAK,EAAE,EAAE;MAEnBV,mBAAmB,CAAC,EAAE,CAAC;IAC3B,CAAC,MAAM;MAEHA,mBAAmB,CAACU,UAAU,CAAC;IACnC;EACJ,CAAC;EAED,IAAM/D,kBAAkB,GAAGxB,OAAO,CAC9B;IAAA,OAAM,UAAC0F,GAAG,EAAK;MACX,IAAIC,MAAM,GAAG,CAAC;MACdhB,OAAO,CAACiB,GAAG,CAAC,UAACrE,IAAI,EAAK;QAClB,IAAGA,IAAI,CAACsE,IAAI,GAAGF,MAAM,EAAC;UAClBA,MAAM,GAAGpE,IAAI,CAACsE,IAAI;QACtB;MACJ,CAAC,CAAC;MACFF,MAAM,IAAI,CAAC;MAEX,IAAIG,iBAAiB,GAAG7B,oBAAoB,CAAC8B,MAAM,CAAC,UAACxE,IAAI;QAAA,OAAKA,IAAI,CAACQ,EAAE,KAAK2D,GAAG;MAAA,EAAC;MAC9EI,iBAAiB,CAAC,CAAC,CAAC,CAACD,IAAI,GAAGF,MAAM;MAClCG,iBAAiB,CAAC,CAAC,CAAC,CAACE,CAAC,GAAG,CAAClB,UAAU,GAAG,EAAE,GAAG7D,KAAK,GAAC,CAAC;MACnD6E,iBAAiB,CAAC,CAAC,CAAC,CAACG,CAAC,GAAG,CAAClB,UAAU,GAAG,GAAG,GAAG7D,MAAM,GAAC,CAAC;MAErD0D,UAAU,IAAApB,MAAA,CAAA0C,kBAAA,CAAKvB,OAAO,IAAEmB,iBAAiB,CAAC,CAAC,CAAC,GAAE;MAC9CV,gBAAgB,CAAC,EAAE,CAAC;MACpBZ,UAAU,CAAC2B,QAAQ,CAAC,aAAa,CAAC;IACtC,CAAC;EAAA,GAAE,CAACzB,UAAU,EAAEF,UAAU,EAAEI,UAAU,CAAC,CAAC;EAC5C,OACI9D,KAAA,CAACN,YAAY;IAACiB,KAAK,EAAE;MAAEG,IAAI,EAAE,CAAC;MAAEF,cAAc,EAAE,QAAQ;MAAEO,eAAe,EAAE;IAAQ,CAAE;IAAAD,QAAA,GACjFpB,IAAA,CAACN,IAAI;MAACmB,KAAK,EAAE;QAAEI,cAAc,EAAE,CAAC;QAAEuE,iBAAiB,EAAE,SAAS;QAAEC,iBAAiB,EAAE;MAAE,CAAE;MAAArE,QAAA,EACnFpB,IAAA,CAACP,SAAS;QACNiG,WAAW,EAAC,WAAW;QACvBC,YAAY,EAAC,SAAS;QACtBC,QAAQ,EAAEnB,YAAa;QACvBvB,KAAK,EAAEqB,aAAc;QACrB1D,KAAK,EAAE;UACHgF,gBAAgB,EAAE,EAAE;UACpB5E,cAAc,EAAE,EAAE;UAClB6E,iBAAiB,EAAE,EAAE;UACrBC,eAAe,EAAE,CAAC;UAClB1E,eAAe,EAAE,SAAS;UAC1BE,YAAY,EAAE;QAClB;MAAE;IAAG,EACN,EACPvB,IAAA,CAAC6B,aAAa;MAACwB,oBAAoB,EAAEA,oBAAqB;MAACzC,kBAAkB,EAAEA;IAAmB,EAAG;EAAA,EAC1F;AAEvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}